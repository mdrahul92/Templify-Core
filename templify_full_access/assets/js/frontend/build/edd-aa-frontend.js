jQuery(document).ready((function(e){e("a.edd-all-access-btn").addClass("edd-has-js"),e(document).on("change",".edd_aa_single_file_per_price",(function(a){a.preventDefault();var d=e(this).find("input:radio:checked").prop("id"),s=d.split("_"),_=s[3],c=s[4].split("-")[0],t=d.split("-"),l="#edd_purchase_"+_+(t[1]?"-"+t[1]:"");e(l+" .edd-all-access-btn, "+l+" .edd-add-to-cart, "+l+" .edd_go_to_checkout").css("position","relative"),e(l+" .edd-all-access-btn span, "+l+" .edd-add-to-cart span, "+l+" .edd_go_to_checkout span").css("opacity","0"),edd_all_access_current_purchase_html=e(l+" .edd-all-access-btn, "+l+" .edd-add-to-cart, "+l+" .edd_go_to_checkout").html(),e(l+" .edd-all-access-btn, "+l+" .edd-add-to-cart, "+l+" .edd_go_to_checkout").html(edd_all_access_current_purchase_html+'<span class="edd-all-access-loading edd-loading"><span class="screen-reader-text">'+edd_all_access_vars.loading_text+"</span></span>"),e(l+" .edd-all-access-loading").css("opacity","1");var r={action:"edd_all_access_update_download_url",edd_all_access_download_id:_,edd_all_access_price_id:c,edd_all_access_file_id:"single_file_per_price"};e.ajax({type:"POST",data:r,dataType:"json",url:edd_all_access_vars.ajaxurl,success:function(a){if(a.success){var d=e(a.button_html),s=e(".edd_purchase_submit_wrapper",d),_=e(l+" .edd_purchase_submit_wrapper").attr("style");e(l+" .edd_purchase_submit_wrapper").replaceWith(s[0]),e(l+" .edd_purchase_submit_wrapper").attr("style",_),e(l+" .edd_purchase_submit_wrapper > a").addClass("edd-has-js"),e(".edd-no-js").hide()}else console.log("Fail: "+a)}}).fail((function(e){console.log(e)}))})),e(document).on("change",".edd_aa_multiple_files_per_price",(function(a){a.preventDefault();var d=e(this).find("input:radio:checked").prop("id"),s=d.split("_"),_=s[4],c=s[5],t=(t=s[6].split("-"))[0],l=d.split("-"),r="#edd_purchase_"+_+(l[1]?"-"+l[1]:"");e(r+" .edd-all-access-btn, "+r+" .edd-add-to-cart, "+r+" .edd_go_to_checkout").css("position","relative"),e(r+" .edd-all-access-btn span, "+r+" .edd-add-to-cart span, "+r+" .edd_go_to_checkout span").css("opacity","0"),edd_all_access_current_purchase_html=e(r+" .edd-all-access-btn, "+r+" .edd-add-to-cart, "+r+" .edd_go_to_checkout").html(),e(r+" .edd-all-access-btn, "+r+" .edd-add-to-cart, "+r+" .edd_go_to_checkout").html(edd_all_access_current_purchase_html+'<span class="edd-all-access-loading edd-loading"><span class="screen-reader-text">'+edd_all_access_vars.loading_text+"</span></span>"),e(r+" .edd-all-access-loading").css("opacity","1");var p={action:"edd_all_access_update_download_url",edd_all_access_download_id:_,edd_all_access_price_id:c,edd_all_access_file_id:t};e.ajax({type:"POST",data:p,dataType:"json",url:edd_all_access_vars.ajaxurl,success:function(a){if(a.success){var d=e(a.button_html),s=e(".edd_purchase_submit_wrapper",d),_=e(r+" .edd_purchase_submit_wrapper").attr("style");e(r+" .edd_purchase_submit_wrapper").replaceWith(s[0]),e(r+" .edd_purchase_submit_wrapper").attr("style",_),e(r+" .edd_purchase_submit_wrapper > a").addClass("edd-has-js"),e(".edd-no-js").hide()}else console.log("Fail: "+a)}}).fail((function(e){console.log(e)}))})),e(document).on("change",".edd_price_options input",(function(a){var d=e(this).parents(".edd_price_options");if(!d.hasClass("edd_aa_multiple_files_per_price")&&!d.hasClass("edd_aa_single_file_per_price")){var s=e(this).prop("id"),_=s.split("_")[3],c=s.split("-"),t="#edd_purchase_"+_+(c[1]?"-"+c[1]:""),l={action:"edd_all_access_update_download_url",edd_all_access_price_id:e(this).val(),edd_all_access_download_id:_};e.ajax({type:"POST",data:l,dataType:"json",url:edd_all_access_vars.ajaxurl,success:function(a){if(a.success){var d=e(a.button_html),s=e(".edd_purchase_submit_wrapper",d),_=e(t+" .edd_purchase_submit_wrapper").attr("style");e(t+" .edd_purchase_submit_wrapper").replaceWith(s[0]),e(t+" .edd_purchase_submit_wrapper").attr("style",_),e(t+" .edd_purchase_submit_wrapper > a").addClass("edd-has-js"),e(".edd-no-js").hide()}else console.log("Fail: "+a)}}).fail((function(e){console.log(e)}))}}))}));